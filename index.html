<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduOS 6.0 // Liquid Ether</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=JetBrains+Mono:wght@400;700&display=swap');

        :root {
            /* Variables Din√°micas (Editables por el usuario) */
            --accent: #00f2ff;
            --glass-opacity: 0.65;
            --blur-strength: 25px;
            --bg-image: url('https://4kwallpapers.com/images/walls/thumbs_3t/23027.jpg');
            
            /* Est√°ticos */
            --text-main: #ffffff;
            --text-dim: rgba(255, 255, 255, 0.7);
            --window-radius: 16px;
            --transition-speed: 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            --danger: #ff4757;
            --success: #2ed573;
            --warning: #ffa502;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; outline: none; }

        body {
            font-family: 'Outfit', sans-serif;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            color: var(--text-main);
            background: #000;
            position: relative;
        }

        /* --- CAPA DE FONDO & EFECTOS --- */
        .wallpaper {
            position: absolute;
            inset: 0;
            background-image: var(--bg-image);
            background-size: cover;
            background-position: center;
            transition: all 0.5s ease;
            z-index: -3;
            animation: bgShift 120s infinite linear;
        }

        .wallpaper::after {
            content: ''; position: absolute; inset: 0;
            background: rgba(0,0,0,0.3);
        }

        @keyframes bgShift {
            0%, 100% { filter: hue-rotate(0deg) contrast(110%) saturate(120%); }
            50% { filter: hue-rotate(180deg) contrast(115%) saturate(140%); }
        }

        /* Orbes de luz animados */
        .liquid-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            z-index: -2;
            opacity: 0.6;
            animation: float 20s infinite alternate;
        }
        .orb-1 { width: 600px; height: 600px; background: #7928ca; top: -20%; left: -10%; }
        .orb-2 { width: 500px; height: 500px; background: var(--accent); bottom: -10%; right: -10%; animation-delay: -5s; opacity: 0.4; }
        
        @keyframes float { 
            0% { transform: translate(0,0) scale(1); } 
            100% { transform: translate(100px, 50px) scale(1.1); } 
        }

        /* Efecto Ruido (Grain) */
        .noise-overlay {
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: -1;
            animation: grainNoise 0.2s infinite;
        }

        @keyframes grainNoise {
            0%, 100% { transform: translate(0,0); }
            10% { transform: translate(-1%,-1%); }
            20% { transform: translate(1%,1%); }
            30% { transform: translate(-1%,0); }
            40% { transform: translate(0,1%); }
            50% { transform: translate(1%,0); }
            60% { transform: translate(0,-1%); }
            70% { transform: translate(-1%,1%); }
            80% { transform: translate(1%,-1%); }
            90% { transform: translate(-1%,-1%); }
        }

        /* --- ESCRITORIO --- */
        .desktop-grid {
            position: absolute;
            top: 20px; left: 20px; bottom: 80px; width: 100%;
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            gap: 15px;
            align-content: flex-start;
            z-index: 1;
        }

        .desktop-icon {
            width: 86px;
            padding: 10px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: var(--transition-speed);
            position: relative;
        }
        .desktop-icon:hover { background: rgba(255,255,255,0.15); transform: scale(1.05) translateY(-5px); }
        .desktop-icon:active { transform: scale(0.95); }
        .desktop-icon::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 12px;
            background: linear-gradient(135deg, transparent 30%, rgba(255,255,255,0.1));
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }
        .desktop-icon:hover::after { opacity: 1; }
        
        .icon-img {
            width: 54px; height: 54px;
            border-radius: 14px;
            background: linear-gradient(135deg, rgba(255,255,255,0.4), rgba(255,255,255,0.1));
            border: 1px solid rgba(255,255,255,0.3);
            display: flex; align-items: center; justify-content: center;
            font-size: 28px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            backdrop-filter: blur(5px);
            margin-bottom: 8px;
            transition: all 0.3s;
            animation: iconPulse 3s infinite alternate;
        }
        .desktop-icon:hover .icon-img {
            transform: rotate(10deg) scale(1.1);
            box-shadow: 0 12px 24px rgba(0,0,0,0.3), 0 0 30px var(--accent);
        }

        @keyframes iconPulse {
            0% { box-shadow: 0 8px 16px rgba(0,0,0,0.2); }
            100% { box-shadow: 0 8px 24px rgba(0,0,0,0.3), 0 0 15px rgba(0,242,255,0.3); }
        }

        .icon-label { 
            font-size: 13px; 
            text-shadow: 0 2px 4px rgba(0,0,0,0.8); 
            text-align: center; 
            font-weight: 500;
            background: rgba(0,0,0,0.5);
            padding: 2px 8px;
            border-radius: 6px;
            transition: all 0.3s;
        }
        .desktop-icon:hover .icon-label {
            background: rgba(0,0,0,0.8);
            color: var(--accent);
        }

        /* --- MEN√ö INICIO --- */
        .start-menu {
            position: absolute;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%) scale(0.95);
            width: 400px;
            height: 500px;
            background: rgba(15, 15, 30, 0.95);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 24px;
            box-shadow: 0 40px 80px rgba(0,0,0,0.6);
            padding: 20px;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
        }
        .start-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) scale(1);
        }
        .start-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        .start-item {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }
        .start-item:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--accent);
            transform: translateY(-5px);
        }
        .start-item:active { transform: translateY(0); }

        /* --- VENTANAS (LIQUID GLASS REAL) --- */
        .window {
            position: absolute;
            min-width: 300px; min-height: 200px;
            background: rgba(20, 25, 40, var(--glass-opacity));
            backdrop-filter: blur(var(--blur-strength)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-strength)) saturate(180%);
            border: 1px solid rgba(255,255,255,0.15);
            border-top: 1px solid rgba(255,255,255,0.3);
            border-radius: var(--window-radius);
            box-shadow: 
                0 20px 50px rgba(0,0,0,0.6),
                inset 0 0 0 1px rgba(255,255,255,0.05);
            display: flex; flex-direction: column;
            overflow: hidden;
            opacity: 0; 
            transform: scale(0.9) translateY(20px);
            transition: opacity 0.3s, transform 0.3s, width 0.3s, height 0.3s, top 0.3s, left 0.3s;
            pointer-events: none;
            z-index: 100;
        }

        .window.open { 
            opacity: 1; 
            transform: scale(1) translateY(0); 
            pointer-events: all;
            animation: windowAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes windowAppear {
            0% { transform: scale(0.8) translateY(30px); opacity: 0; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }

        .window.closing {
            animation: windowDisappear 0.3s forwards;
        }

        @keyframes windowDisappear {
            0% { transform: scale(1) translateY(0); opacity: 1; }
            100% { transform: scale(0.8) translateY(30px); opacity: 0; }
        }

        .window.maximized { 
            top: 0 !important; 
            left: 0 !important; 
            width: 100% !important; 
            height: calc(100% - 70px) !important; 
            border-radius: 0; 
            animation: maximizeWindow 0.3s;
        }

        @keyframes maximizeWindow {
            0% { border-radius: var(--window-radius); }
            100% { border-radius: 0; }
        }

        .title-bar {
            height: 42px;
            background: linear-gradient(90deg, rgba(255,255,255,0.05), transparent);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 16px;
            cursor: grab;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            position: relative;
        }
        .title-bar:active { cursor: grabbing; }
        .title-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            opacity: 0.5;
        }

        .win-title { 
            font-weight: 600; 
            font-size: 14px; 
            opacity: 0.9; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
            text-shadow: 0 0 10px currentColor;
        }
        .win-controls { display: flex; gap: 8px; }
        .control-btn { 
            width: 12px; 
            height: 12px; 
            border-radius: 50%; 
            border: none; 
            cursor: pointer; 
            transition: 0.2s;
            position: relative;
            overflow: hidden;
        }
        .control-btn::after {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(255,255,255,0.2);
            opacity: 0;
            transition: opacity 0.2s;
        }
        .control-btn:hover::after { opacity: 1; }
        .control-btn:hover { transform: scale(1.2); }
        .close-btn { background: var(--danger); }
        .min-btn { background: var(--warning); }
        .max-btn { background: var(--success); }

        .win-content { flex: 1; overflow: auto; padding: 20px; position: relative; }

        /* --- BARRA DE TAREAS (DOCK) --- */
        .dock-container {
            position: absolute; bottom: 20px; left: 0; width: 100%;
            display: flex; justify-content: center; z-index: 10000;
        }

        .dock {
            background: rgba(15, 15, 20, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            height: 64px;
            border-radius: 24px;
            display: flex; align-items: center; gap: 10px; padding: 0 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
            transition: var(--transition-speed);
            position: relative;
        }
        .dock::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 24px;
            background: linear-gradient(135deg, rgba(255,255,255,0.05), transparent 70%);
            pointer-events: none;
        }

        .dock-icon {
            width: 48px; height: 48px;
            border-radius: 12px;
            background: rgba(255,255,255,0.05);
            display: flex; align-items: center; justify-content: center;
            font-size: 24px; cursor: pointer;
            position: relative;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid transparent;
            transform-origin: bottom center;
        }
        .dock-icon:hover { 
            transform: translateY(-10px) scale(1.1); 
            background: rgba(255,255,255,0.15); 
            border-color: rgba(255,255,255,0.2);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3), 0 0 20px currentColor;
        }
        .dock-icon.active::after {
            content: ''; 
            position: absolute; 
            bottom: -6px; 
            width: 4px; 
            height: 4px; 
            background: var(--accent); 
            border-radius: 50%; 
            box-shadow: 0 0 10px var(--accent);
            animation: dockPulse 2s infinite;
        }

        @keyframes dockPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.8); }
        }

        /* --- NOTIFICACIONES --- */
        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            z-index: 100000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .notification {
            background: rgba(20, 25, 40, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-left: 4px solid var(--accent);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            transform: translateX(100%);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }
        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }
        .notification-title {
            font-weight: bold;
            color: var(--accent);
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .notification-close {
            color: var(--text-dim);
            cursor: pointer;
            font-size: 18px;
        }

        /* --- APPS ESPEC√çFICAS --- */
        
        /* Ajustes */
        .settings-group { margin-bottom: 25px; }
        .settings-group label { display: block; margin-bottom: 8px; font-size: 0.9em; color: var(--text-dim); }
        .setting-input { width: 100%; padding: 10px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); color: white; border-radius: 8px; transition: all 0.3s; }
        .setting-input:focus { border-color: var(--accent); box-shadow: 0 0 15px rgba(0,242,255,0.3); }
        input[type="range"] { width: 100%; accent-color: var(--accent); height: 6px; border-radius: 3px; }
        .preset-colors { display: flex; gap: 10px; margin-top: 10px; }
        .color-dot { width: 30px; height: 30px; border-radius: 50%; cursor: pointer; border: 2px solid rgba(255,255,255,0.2); transition: 0.2s; position: relative; overflow: hidden; }
        .color-dot:hover { transform: scale(1.2); }
        .color-dot.active::after {
            content: '‚úì';
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-shadow: 0 0 5px black;
        }

        /* Terminal */
        .terminal { font-family: 'JetBrains Mono', monospace; color: #0f0; height: 100%; display: flex; flex-direction: column; }
        .terminal-output { flex: 1; overflow-y: auto; white-space: pre-wrap; margin-bottom: 10px; font-size: 14px; }
        .terminal-input-line { display: flex; gap: 10px; align-items: center; }
        .prompt { color: var(--accent); font-weight: bold; }
        #termInput { background: transparent; border: none; color: white; flex: 1; font-family: inherit; font-size: 14px; }

        /* Paint */
        .paint-toolbar { display: flex; gap: 10px; margin-bottom: 10px; background: rgba(0,0,0,0.2); padding: 8px; border-radius: 8px; flex-wrap: wrap; }
        .paint-tool { padding: 8px 15px; background: rgba(255,255,255,0.1); border-radius: 6px; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; }
        .paint-tool:hover { background: rgba(255,255,255,0.2); }
        .paint-tool.active { background: var(--accent); color: black; }
        #paintCanvas { background: white; border-radius: 4px; cursor: crosshair; touch-action: none; width: 100%; height: 400px; box-shadow: inset 0 0 20px rgba(0,0,0,0.2); }

        /* Horario (Mejorado) */
        .schedule-grid { display: grid; grid-template-columns: 80px repeat(5, 1fr); gap: 2px; }
        .sch-head { background: rgba(255,255,255,0.1); padding: 12px; text-align: center; font-weight: bold; font-size: 12px; border-radius: 4px; text-transform: uppercase; letter-spacing: 1px; }
        .sch-time { color: var(--accent); font-family: 'JetBrains Mono'; display: flex; align-items: center; justify-content: center; font-size: 12px; background: rgba(0,0,0,0.3); border-radius: 4px; }
        .sch-cell { background: rgba(255,255,255,0.03); padding: 10px; border-radius: 4px; font-size: 13px; transition: 0.2s; cursor: pointer; position: relative; overflow: hidden; }
        .sch-cell:hover { background: rgba(255,255,255,0.1); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .sch-cell::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: var(--accent); opacity: 0.5; }
        .break-cell { grid-column: 2 / span 5; background: repeating-linear-gradient(45deg, rgba(255,255,255,0.05), rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.1) 10px, rgba(255,255,255,0.1) 20px); text-align: center; font-style: italic; color: #ffcc00; font-weight: bold; letter-spacing: 2px; display: flex; align-items: center; justify-content: center; animation: breakPulse 3s infinite; }

        @keyframes breakPulse {
            0%, 100% { color: #ffcc00; }
            50% { color: #ff9900; }
        }

        /* Calculadora */
        .calc-display {
            background: rgba(0,0,0,0.5);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: right;
            font-family: 'JetBrains Mono';
            font-size: 2em;
            min-height: 60px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        .calc-btn {
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        .calc-btn:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }
        .calc-btn:active { transform: translateY(0); }
        .calc-btn.operator { background: rgba(0,242,255,0.2); color: var(--accent); }
        .calc-btn.equals { background: var(--accent); color: black; font-weight: bold; }
        .calc-btn.clear { background: rgba(255,71,87,0.2); color: var(--danger); }

        /* Reproductor de M√∫sica */
        .music-player {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .album-art {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            border-radius: 20px;
            background: linear-gradient(135deg, #7928ca, #ff0055);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            animation: albumRotate 20s infinite linear paused;
        }
        .music-player.playing .album-art {
            animation-play-state: running;
        }
        @keyframes albumRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .track-info { text-align: center; }
        .track-title { font-size: 1.5em; font-weight: bold; margin-bottom: 5px; }
        .track-artist { color: var(--text-dim); }
        .progress-bar { height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; margin: 20px 0; overflow: hidden; }
        .progress { height: 100%; background: var(--accent); width: 30%; border-radius: 2px; }
        .player-controls { display: flex; justify-content: center; gap: 20px; }
        .player-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            color: white;
        }
        .player-btn:hover {
            background: var(--accent);
            transform: scale(1.1);
        }
        .player-btn.play { width: 60px; height: 60px; font-size: 28px; }

        /* Juego Snake */
        .snake-game {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
        #snakeCanvas {
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            border: 2px solid rgba(255,255,255,0.1);
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }
        .game-stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }
        .game-stat {
            background: rgba(255,255,255,0.05);
            padding: 10px 20px;
            border-radius: 8px;
            text-align: center;
        }
        .game-stat-value {
            font-size: 1.5em;
            color: var(--accent);
            font-weight: bold;
        }

        /* Navegador Web */
        .browser-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            background: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 8px;
        }
        .browser-url {
            flex: 1;
            padding: 10px;
            background: rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: white;
        }
        .browser-btn {
            padding: 10px 15px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
        }
        .browser-btn:hover {
            background: var(--accent);
        }
        .browser-content {
            flex: 1;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }
        #browserFrame {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Reloj Mundial */
        .world-clock-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        .clock-city {
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s;
        }
        .clock-city:hover {
            background: rgba(255,255,255,0.08);
            transform: translateY(-5px);
            border-color: var(--accent);
        }
        .city-name {
            font-size: 0.9em;
            color: var(--text-dim);
            margin-bottom: 5px;
        }
        .city-time {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--accent);
            font-family: 'JetBrains Mono';
        }
        .city-date {
            font-size: 0.8em;
            color: var(--text-dim);
            margin-top: 5px;
        }

        /* Sistema de Archivos */
        .file-explorer {
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .file-toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .file-list {
            flex: 1;
            overflow-y: auto;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 10px;
        }
        .file-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .file-item:hover {
            background: rgba(255,255,255,0.1);
        }
        .file-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        .file-name {
            flex: 1;
        }
        .file-size {
            color: var(--text-dim);
            font-size: 0.9em;
        }

        /* F√≠sica Part√≠culas */
        .particles-container {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }

        /* Efecto Cursor Personalizado */
        .custom-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(0, 242, 255, 0.5);
            pointer-events: none;
            z-index: 1000000;
            mix-blend-mode: screen;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s;
        }
        .custom-cursor.active {
            width: 40px;
            height: 40px;
            background: rgba(0, 242, 255, 0.2);
        }
    </style>
</head>
<body>

    <div class="wallpaper" id="wallpaperLayer"></div>
    <div class="liquid-orb orb-1"></div>
    <div class="liquid-orb orb-2"></div>
    <div class="noise-overlay"></div>
    <div class="particles-container" id="particles"></div>
    <div class="custom-cursor" id="customCursor"></div>

    <!-- Men√∫ Inicio -->
    <div class="start-menu" id="startMenu">
        <h2 style="margin-bottom: 20px;">EduOS 6.0 // Liquid Ether</h2>
        <div class="start-grid">
            <div class="start-item" onclick="wm.open('scheduleWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">üìÖ</div>
                <div>Horario</div>
            </div>
            <div class="start-item" onclick="wm.open('calcWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">üßÆ</div>
                <div>Calculadora</div>
            </div>
            <div class="start-item" onclick="wm.open('musicWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">üéµ</div>
                <div>M√∫sica</div>
            </div>
            <div class="start-item" onclick="wm.open('snakeWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">üêç</div>
                <div>Snake Game</div>
            </div>
            <div class="start-item" onclick="wm.open('browserWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">üåê</div>
                <div>Navegador</div>
            </div>
            <div class="start-item" onclick="wm.open('clockWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">üåç</div>
                <div>Reloj Mundial</div>
            </div>
            <div class="start-item" onclick="wm.open('filesWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">üìÅ</div>
                <div>Archivos</div>
            </div>
            <div class="start-item" onclick="wm.open('paintWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">üé®</div>
                <div>CyberPaint</div>
            </div>
            <div class="start-item" onclick="wm.open('settingsWin')">
                <div style="font-size: 24px; margin-bottom: 5px;">‚öôÔ∏è</div>
                <div>Ajustes</div>
            </div>
        </div>
        <div style="margin-top: 20px; text-align: center; color: var(--text-dim); font-size: 0.9em;">
            EduOS v6.0 - ¬© 2025 - Todos los derechos reservados
        </div>
    </div>

    <!-- Notificaciones -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Escritorio -->
    <div class="desktop-grid">
        <div class="desktop-icon" onclick="wm.open('scheduleWin')">
            <div class="icon-img" style="color: #ffcc00;">üìÖ</div>
            <div class="icon-label">Horario</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('settingsWin')">
            <div class="icon-img" style="color: #a0a0a0;">‚öôÔ∏è</div>
            <div class="icon-label">Ajustes</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('paintWin')">
            <div class="icon-img" style="color: #ff0055;">üé®</div>
            <div class="icon-label">CyberPaint</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('termWin')">
            <div class="icon-img" style="color: #00ff00; background: #000;">>_</div>
            <div class="icon-label">Terminal</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('clickerWin')">
            <div class="icon-img" style="color: #00f2ff;">‚ö°</div>
            <div class="icon-label">Miner</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('notesWin')">
            <div class="icon-img" style="color: #fff;">üìù</div>
            <div class="icon-label">Notas</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('calcWin')">
            <div class="icon-img" style="color: #ff9500;">üßÆ</div>
            <div class="icon-label">Calculadora</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('musicWin')">
            <div class="icon-img" style="color: #9d4edd;">üéµ</div>
            <div class="icon-label">M√∫sica</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('snakeWin')">
            <div class="icon-img" style="color: #2ed573;">üêç</div>
            <div class="icon-label">Snake Game</div>
        </div>
        <div class="desktop-icon" onclick="wm.open('browserWin')">
            <div class="icon-img" style="color: #1e90ff;">üåê</div>
            <div class="icon-label">Navegador</div>
        </div>
    </div>

    <!-- √Årea de Ventanas -->
    <div id="windowsArea">

        <!-- Horario (existente) -->
        <div id="scheduleWin" class="window" style="width: 900px; height: 600px; top: 50px; left: 100px;">
            <div class="title-bar">
                <div class="win-title">üìÖ Academic Schedule v2.0</div>
                <div class="win-controls">
                    <button class="control-btn min-btn"></button>
                    <button class="control-btn max-btn" onclick="wm.maximize('scheduleWin')"></button>
                    <button class="control-btn close-btn" onclick="wm.close('scheduleWin')"></button>
                </div>
            </div>
            <div class="win-content">
                <div class="schedule-grid" id="scheduleGrid"></div>
            </div>
        </div>

        <!-- Ajustes (existente) -->
        <div id="settingsWin" class="window" style="width: 400px; height: 550px; top: 80px; left: 150px;">
            <div class="title-bar">
                <div class="win-title">‚öôÔ∏è Control Center</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('settingsWin')"></button>
                </div>
            </div>
            <div class="win-content">
                <h2 style="margin-bottom: 20px;">Personalizaci√≥n</h2>
                
                <div class="settings-group">
                    <label>Wallpaper URL</label>
                    <input type="text" class="setting-input" id="bgInput" placeholder="https://..." onchange="updateSettings()">
                </div>

                <div class="settings-group">
                    <label>Color de Acento</label>
                    <div class="preset-colors">
                        <div class="color-dot active" style="background: #00f2ff;" onclick="setAccent('#00f2ff')"></div>
                        <div class="color-dot" style="background: #ff0055;" onclick="setAccent('#ff0055')"></div>
                        <div class="color-dot" style="background: #7928ca;" onclick="setAccent('#7928ca')"></div>
                        <div class="color-dot" style="background: #00ff00;" onclick="setAccent('#00ff00')"></div>
                        <div class="color-dot" style="background: #ffcc00;" onclick="setAccent('#ffcc00')"></div>
                    </div>
                </div>

                <div class="settings-group">
                    <label>Opacidad del Cristal (<span id="opacityVal">0.65</span>)</label>
                    <input type="range" min="0.1" max="0.95" step="0.05" value="0.65" oninput="updateCSSVar('--glass-opacity', this.value); document.getElementById('opacityVal').innerText = this.value">
                </div>

                <div class="settings-group">
                    <label>Intensidad Blur (<span id="blurVal">25px</span>)</label>
                    <input type="range" min="0" max="50" value="25" oninput="updateCSSVar('--blur-strength', this.value + 'px'); document.getElementById('blurVal').innerText = this.value + 'px'">
                </div>

                <div class="settings-group">
                    <button onclick="showNotification('Sistema', 'Configuraci√≥n guardada correctamente', 'success')" class="setting-input" style="cursor: pointer; text-align: center; background: var(--accent); color: black; font-weight: bold;">
                        Guardar Configuraci√≥n
                    </button>
                </div>

                <div class="settings-group">
                    <h3 style="margin-bottom: 10px;">Efectos Especiales</h3>
                    <label style="display: flex; justify-content: space-between; align-items: center;">
                        <span>Part√≠culas en fondo</span>
                        <input type="checkbox" id="particlesToggle" checked onchange="toggleParticles(this.checked)">
                    </label>
                    <label style="display: flex; justify-content: space-between; align-items: center;">
                        <span>Cursor personalizado</span>
                        <input type="checkbox" id="cursorToggle" checked onchange="toggleCustomCursor(this.checked)">
                    </label>
                </div>
            </div>
        </div>

        <!-- Paint (existente) -->
        <div id="paintWin" class="window" style="width: 600px; height: 500px; top: 120px; left: 200px;">
             <div class="title-bar">
                <div class="win-title">üé® CyberPaint Studio</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('paintWin')"></button>
                </div>
            </div>
            <div class="win-content" style="display:flex; flex-direction:column;">
                <div class="paint-toolbar">
                    <div class="paint-tool active" onclick="paintApp.setColor('black')">‚ö´ Negro</div>
                    <div class="paint-tool" style="color:red" onclick="paintApp.setColor('red')">üî¥ Rojo</div>
                    <div class="paint-tool" style="color:blue" onclick="paintApp.setColor('blue')">üîµ Azul</div>
                    <div class="paint-tool" style="color:#00f2ff" onclick="paintApp.setColor('#00f2ff')">üí† Cyan</div>
                    <div class="paint-tool" onclick="paintApp.setLineWidth(1)">‚ñØ Fino</div>
                    <div class="paint-tool" onclick="paintApp.setLineWidth(5)">‚ñÆ Grueso</div>
                    <div class="paint-tool" onclick="paintApp.clear()">üóëÔ∏è Borrar</div>
                    <div class="paint-tool" onclick="paintApp.save()">üíæ Guardar</div>
                </div>
                <canvas id="paintCanvas" width="560" height="400"></canvas>
            </div>
        </div>

        <!-- Terminal (existente) -->
        <div id="termWin" class="window" style="width: 500px; height: 350px; top: 150px; left: 250px; background: rgba(0,0,0,0.85);">
            <div class="title-bar">
                <div class="win-title">>_ root@edu-os</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('termWin')"></button>
                </div>
            </div>
            <div class="win-content terminal" onclick="document.getElementById('termInput').focus()">
                <div class="terminal-output" id="termOutput">EduOS Kernel v6.0 loaded...<br>Type 'help' for commands.<br></div>
                <div class="terminal-input-line">
                    <span class="prompt">$</span>
                    <input type="text" id="termInput" autocomplete="off">
                </div>
            </div>
        </div>

        <!-- Miner (existente) -->
        <div id="clickerWin" class="window" style="width: 350px; height: 450px; top: 100px; left: 400px;">
            <div class="title-bar">
                <div class="win-title">‚ö° Crypto Miner</div>
                <div class="win-controls"><button class="control-btn close-btn" onclick="wm.close('clickerWin')"></button></div>
            </div>
            <div class="win-content" style="text-align:center;">
                <h1 id="score" style="font-size:3em; color:var(--accent); text-shadow:0 0 20px var(--accent);">0</h1>
                <p>EduCoins Mined</p>
                <button onclick="miner.click()" style="width:100px; height:100px; border-radius:50%; border:none; background:var(--accent); font-size:40px; margin:20px; cursor:pointer; box-shadow:0 0 30px var(--accent); transition:0.1s;" class="mining-rig">‚õèÔ∏è</button>
                <div id="upgrades"></div>
                <div style="margin-top: 20px; color: var(--text-dim); font-size: 0.9em;">
                    Auto-miner: <span id="autoMiner">0</span> coins/sec
                </div>
            </div>
        </div>

        <!-- Notas (existente) -->
        <div id="notesWin" class="window" style="width: 300px; height: 400px; top: 60px; left: 600px;">
             <div class="title-bar">
                <div class="win-title">üìù Notas R√°pidas</div>
                <div class="win-controls"><button class="control-btn close-btn" onclick="wm.close('notesWin')"></button></div>
            </div>
            <div class="win-content">
                <textarea id="notesArea" style="width:100%; height:100%; background:transparent; border:none; color:white; resize:none; font-family: 'Outfit', sans-serif;" placeholder="Escribe aqu√≠... se guarda solo."></textarea>
            </div>
        </div>

        <!-- Calculadora (nueva) -->
        <div id="calcWin" class="window" style="width: 300px; height: 450px; top: 80px; left: 700px;">
            <div class="title-bar">
                <div class="win-title">üßÆ Calculadora</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('calcWin')"></button>
                </div>
            </div>
            <div class="win-content">
                <div class="calc-display" id="calcDisplay">0</div>
                <div class="calc-buttons">
                    <div class="calc-btn clear" onclick="calculator.clear()">C</div>
                    <div class="calc-btn" onclick="calculator.addOperator('/')">/</div>
                    <div class="calc-btn" onclick="calculator.addOperator('*')">√ó</div>
                    <div class="calc-btn" onclick="calculator.backspace()">‚å´</div>
                    <div class="calc-btn" onclick="calculator.addNumber(7)">7</div>
                    <div class="calc-btn" onclick="calculator.addNumber(8)">8</div>
                    <div class="calc-btn" onclick="calculator.addNumber(9)">9</div>
                    <div class="calc-btn operator" onclick="calculator.addOperator('-')">-</div>
                    <div class="calc-btn" onclick="calculator.addNumber(4)">4</div>
                    <div class="calc-btn" onclick="calculator.addNumber(5)">5</div>
                    <div class="calc-btn" onclick="calculator.addNumber(6)">6</div>
                    <div class="calc-btn operator" onclick="calculator.addOperator('+')">+</div>
                    <div class="calc-btn" onclick="calculator.addNumber(1)">1</div>
                    <div class="calc-btn" onclick="calculator.addNumber(2)">2</div>
                    <div class="calc-btn" onclick="calculator.addNumber(3)">3</div>
                    <div class="calc-btn equals" onclick="calculator.calculate()" style="grid-row: span 2;">=</div>
                    <div class="calc-btn" onclick="calculator.addNumber(0)" style="grid-column: span 2;">0</div>
                    <div class="calc-btn" onclick="calculator.addDecimal()">.</div>
                </div>
            </div>
        </div>

        <!-- Reproductor de M√∫sica (nueva) -->
        <div id="musicWin" class="window" style="width: 350px; height: 500px; top: 100px; left: 800px;">
            <div class="title-bar">
                <div class="win-title">üéµ Reproductor de M√∫sica</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('musicWin')"></button>
                </div>
            </div>
            <div class="win-content music-player" id="musicPlayer">
                <div class="album-art" id="albumArt">üéµ</div>
                <div class="track-info">
                    <div class="track-title" id="trackTitle">Nombre de la Canci√≥n</div>
                    <div class="track-artist" id="trackArtist">Artista</div>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="musicProgress"></div>
                </div>
                <div class="player-controls">
                    <button class="player-btn" onclick="musicPlayer.prev()">‚èÆ</button>
                    <button class="player-btn play" onclick="musicPlayer.togglePlay()" id="playBtn">‚ñ∂Ô∏è</button>
                    <button class="player-btn" onclick="musicPlayer.next()">‚è≠</button>
                </div>
                <div style="margin-top: 20px;">
                    <div style="font-size: 0.9em; color: var(--text-dim); margin-bottom: 5px;">Lista de reproducci√≥n</div>
                    <div id="playlist" style="max-height: 150px; overflow-y: auto;">
                        <!-- Playlist items will be added here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Juego Snake (nueva) -->
        <div id="snakeWin" class="window" style="width: 500px; height: 550px; top: 120px; left: 900px;">
            <div class="title-bar">
                <div class="win-title">üêç Snake Game</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('snakeWin'); snakeGame.pause();"></button>
                </div>
            </div>
            <div class="win-content snake-game">
                <canvas id="snakeCanvas" width="460" height="400"></canvas>
                <div class="game-stats">
                    <div class="game-stat">
                        <div>Puntuaci√≥n</div>
                        <div class="game-stat-value" id="snakeScore">0</div>
                    </div>
                    <div class="game-stat">
                        <div>Nivel</div>
                        <div class="game-stat-value" id="snakeLevel">1</div>
                    </div>
                    <div class="game-stat">
                        <div>Velocidad</div>
                        <div class="game-stat-value" id="snakeSpeed">1x</div>
                    </div>
                </div>
                <div style="margin-top: 15px; display: flex; gap: 10px;">
                    <button onclick="snakeGame.start()" style="padding: 10px 20px; background: var(--success); color: black; border: none; border-radius: 6px; cursor: pointer;">Iniciar</button>
                    <button onclick="snakeGame.pause()" style="padding: 10px 20px; background: var(--warning); color: black; border: none; border-radius: 6px; cursor: pointer;">Pausar</button>
                    <button onclick="snakeGame.reset()" style="padding: 10px 20px; background: var(--danger); color: black; border: none; border-radius: 6px; cursor: pointer;">Reiniciar</button>
                </div>
                <div style="margin-top: 10px; color: var(--text-dim); font-size: 0.9em; text-align: center;">
                    Usa las flechas del teclado para mover la serpiente
                </div>
            </div>
        </div>

        <!-- Navegador Web (nueva) -->
        <div id="browserWin" class="window" style="width: 700px; height: 500px; top: 150px; left: 1000px;">
            <div class="title-bar">
                <div class="win-title">üåê Navegador Web</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('browserWin')"></button>
                </div>
            </div>
            <div class="win-content" style="display: flex; flex-direction: column;">
                <div class="browser-nav">
                    <button class="browser-btn" onclick="browser.back()">‚Üê</button>
                    <button class="browser-btn" onclick="browser.forward()">‚Üí</button>
                    <button class="browser-btn" onclick="browser.reload()">‚Üª</button>
                    <input type="text" class="browser-url" id="browserUrl" value="https://www.wikipedia.org" onkeypress="if(event.key === 'Enter') browser.go()">
                    <button class="browser-btn" onclick="browser.go()">Ir</button>
                </div>
                <div class="browser-content">
                    <iframe id="browserFrame" src="https://www.wikipedia.org"></iframe>
                </div>
            </div>
        </div>

        <!-- Reloj Mundial (nueva) -->
        <div id="clockWin" class="window" style="width: 400px; height: 400px; top: 200px; left: 1100px;">
            <div class="title-bar">
                <div class="win-title">üåç Reloj Mundial</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('clockWin')"></button>
                </div>
            </div>
            <div class="win-content">
                <div class="world-clock-container" id="worldClocks">
                    <!-- Clocks will be added here -->
                </div>
                <div style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                    <div style="font-size: 1.5em; text-align: center; font-family: 'JetBrains Mono'; color: var(--accent);" id="localTime"></div>
                    <div style="text-align: center; color: var(--text-dim);" id="localDate"></div>
                </div>
            </div>
        </div>

        <!-- Sistema de Archivos (nueva) -->
        <div id="filesWin" class="window" style="width: 500px; height: 400px; top: 250px; left: 1200px;">
            <div class="title-bar">
                <div class="win-title">üìÅ Sistema de Archivos</div>
                <div class="win-controls">
                    <button class="control-btn close-btn" onclick="wm.close('filesWin')"></button>
                </div>
            </div>
            <div class="win-content file-explorer">
                <div class="file-toolbar">
                    <button onclick="fileSystem.createFile()" style="padding: 8px 15px; background: var(--accent); color: black; border: none; border-radius: 6px; cursor: pointer;">Nuevo Archivo</button>
                    <button onclick="fileSystem.createFolder()" style="padding: 8px 15px; background: rgba(255,255,255,0.1); color: white; border: none; border-radius: 6px; cursor: pointer;">Nueva Carpeta</button>
                    <button onclick="fileSystem.refresh()" style="padding: 8px 15px; background: rgba(255,255,255,0.1); color: white; border: none; border-radius: 6px; cursor: pointer;">‚Üª Actualizar</button>
                </div>
                <div class="file-list" id="fileList">
                    <!-- Files will be listed here -->
                </div>
            </div>
        </div>

    </div>

    <!-- Dock -->
    <div class="dock-container">
        <div class="dock">
            <div class="dock-icon" onclick="toggleStartMenu()" id="startBtn">üöÄ</div>
            <div class="dock-icon" onclick="wm.open('scheduleWin')">üìÖ</div>
            <div class="dock-icon" onclick="wm.open('paintWin')">üé®</div>
            <div class="dock-icon" onclick="wm.open('termWin')">>_</div>
            <div class="dock-icon" onclick="wm.open('musicWin')">üéµ</div>
            <div class="dock-icon" onclick="wm.open('snakeWin')">üêç</div>
            <div style="width:1px; height:30px; background:rgba(255,255,255,0.2); margin:0 10px;"></div>
            <div id="clock" style="font-size:14px; font-weight:bold; color:var(--text-dim);">00:00</div>
        </div>
    </div>

    <script>
        /* --- WINDOW MANAGER MEJORADO --- */
        const wm = {
            highestZ: 100,
            openWindows: [],
            
            open: function(id) {
                const win = document.getElementById(id);
                win.classList.remove('closing');
                win.classList.add('open');
                this.bringFront(win);
                this.updateDockIcons();
                
                if (!this.openWindows.includes(id)) {
                    this.openWindows.push(id);
                }
                
                // Mostrar notificaci√≥n
                const appName = win.querySelector('.win-title').textContent;
                showNotification('Sistema', `Aplicaci√≥n ${appName} abierta`, 'info');
            },
            
            close: function(id) {
                const win = document.getElementById(id);
                win.classList.add('closing');
                setTimeout(() => {
                    win.classList.remove('open');
                    win.classList.remove('maximized');
                    win.classList.remove('closing');
                }, 300);
                
                this.openWindows = this.openWindows.filter(w => w !== id);
                this.updateDockIcons();
            },

            maximize: function(id) {
                const win = document.getElementById(id);
                win.classList.toggle('maximized');
            },

            bringFront: function(el) {
                this.highestZ++;
                el.style.zIndex = this.highestZ;
                el.classList.add('active-window');
                
                // Quitar clase de otras ventanas
                document.querySelectorAll('.window.open').forEach(w => {
                    if (w !== el) w.classList.remove('active-window');
                });
                
                this.updateDockIcons();
            },

            updateDockIcons: function() {
                document.querySelectorAll('.dock-icon').forEach(icon => {
                    icon.classList.remove('active');
                });
                
                this.openWindows.forEach(winId => {
                    const win = document.getElementById(winId);
                    const title = win.querySelector('.win-title').textContent;
                    
                    // Buscar icono correspondiente en el dock
                    document.querySelectorAll('.dock-icon').forEach(icon => {
                        if (icon.textContent.includes(title.charAt(0))) {
                            icon.classList.add('active');
                        }
                    });
                });
            },

            cascade: function() {
                let x = 50, y = 50;
                document.querySelectorAll('.window.open').forEach(win => {
                    win.style.left = x + 'px';
                    win.style.top = y + 'px';
                    x += 30;
                    y += 30;
                    if (x > 500) x = 50;
                    if (y > 300) y = 50;
                });
            },

            tile: function() {
                const windows = Array.from(document.querySelectorAll('.window.open'));
                const width = 100 / windows.length + '%';
                windows.forEach((win, i) => {
                    win.style.width = width;
                    win.style.height = 'calc(100% - 100px)';
                    win.style.left = (i * (100 / windows.length)) + '%';
                    win.style.top = '50px';
                });
            }
        };

        /* --- SISTEMA DE NOTIFICACIONES --- */
        let notificationId = 0;
        function showNotification(title, message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const id = 'notif_' + notificationId++;
            
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.id = id;
            
            let icon = '‚ÑπÔ∏è';
            if (type === 'success') icon = '‚úÖ';
            if (type === 'warning') icon = '‚ö†Ô∏è';
            if (type === 'error') icon = '‚ùå';
            
            notification.innerHTML = `
                <div class="notification-title">
                    <span>${icon} ${title}</span>
                    <span class="notification-close" onclick="closeNotification('${id}')">√ó</span>
                </div>
                <div>${message}</div>
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                closeNotification(id);
            }, 5000);
            
            return id;
        }

        function closeNotification(id) {
            const notification = document.getElementById(id);
            if (notification) {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }
        }

        /* --- DRAGGING LOGIC MEJORADO --- */
        let isDragging = false;
        let dragOffset = {x:0, y:0};
        let activeWin = null;

        document.querySelectorAll('.title-bar').forEach(bar => {
            bar.addEventListener('mousedown', (e) => {
                isDragging = true;
                activeWin = bar.parentElement;
                wm.bringFront(activeWin);
                
                activeWin.style.transition = 'none';
                
                const rect = activeWin.getBoundingClientRect();
                dragOffset.x = e.clientX - rect.left;
                dragOffset.y = e.clientY - rect.top;
                
                // Efecto visual
                bar.style.opacity = '0.8';
            });
        });

        document.addEventListener('mousemove', (e) => {
            if(!isDragging || !activeWin) return;
            if(activeWin.classList.contains('maximized')) return;

            activeWin.style.left = (e.clientX - dragOffset.x) + 'px';
            activeWin.style.top = (e.clientY - dragOffset.y) + 'px';
            
            // Efecto de arrastre
            activeWin.style.boxShadow = '0 30px 60px rgba(0,0,0,0.8)';
        });

        document.addEventListener('mouseup', () => {
            if(activeWin) {
                const bar = activeWin.querySelector('.title-bar');
                if (bar) bar.style.opacity = '1';
                activeWin.style.transition = ''; 
                activeWin.style.boxShadow = '';
            }
            isDragging = false;
            activeWin = null;
        });

        /* --- SISTEMA DE CONFIGURACI√ìN --- */
        function updateCSSVar(name, val) {
            document.documentElement.style.setProperty(name, val);
            // Guardar en localStorage
            localStorage.setItem(name, val);
        }

        function setAccent(color) {
            updateCSSVar('--accent', color);
            // Actualizar puntos de color activos
            document.querySelectorAll('.color-dot').forEach(dot => {
                dot.classList.remove('active');
                if (dot.style.backgroundColor === color) {
                    dot.classList.add('active');
                }
            });
        }

        function updateSettings() {
            const bg = document.getElementById('bgInput').value;
            if(bg) {
                document.getElementById('wallpaperLayer').style.backgroundImage = `url(${bg})`;
                localStorage.setItem('--bg-image', `url(${bg})`);
            }
        }

        // Cargar configuraci√≥n guardada
        function loadSettings() {
            const accent = localStorage.getItem('--accent');
            const bg = localStorage.getItem('--bg-image');
            const opacity = localStorage.getItem('--glass-opacity');
            const blur = localStorage.getItem('--blur-strength');
            
            if (accent) setAccent(accent);
            if (bg) document.getElementById('wallpaperLayer').style.backgroundImage = bg;
            if (opacity) updateCSSVar('--glass-opacity', opacity);
            if (blur) updateCSSVar('--blur-strength', blur);
            
            // Actualizar controles
            if (opacity) {
                document.querySelector('input[type="range"][min="0.1"][max="0.95"]').value = opacity;
                document.getElementById('opacityVal').innerText = opacity;
            }
            if (blur) {
                const blurValue = blur.replace('px', '');
                document.querySelector('input[type="range"][min="0"][max="50"]').value = blurValue;
                document.getElementById('blurVal').innerText = blur;
            }
        }

        /* --- HORARIO DATA (MANTENIDO) --- */
        const scheduleData = [
            ['8:30', 'Sistemas Operativos Monopuesto', 'Redes Locales', 'Digitalizaci√≥n', 'Ofim√°tica', 'Ofim√°tica'],
            ['9:30', 'Sistemas Operativos Monopuesto', 'Redes Locales', 'Sistemas Operativos', 'Ofim√°tica', 'Ofim√°tica'],
            ['10:30', 'Ofim√°tica', 'Redes Locales', 'Sistemas Operativos', 'Empleabilidad', 'Sistemas Operativos'],
            ['11:30', 'BREAK', 'BREAK', 'BREAK', 'BREAK', 'BREAK'],
            ['12:00', 'Ofim√°tica', 'Montaje Equipo', 'Redes Locales', 'Redes Locales', 'Montaje Equipo'],
            ['13:00', 'Montaje Equipo', 'Montaje Equipo', 'Redes Locales', 'Redes Locales', 'Empleabilidad'],
            ['14:00', 'Montaje Equipo', 'Empleabilidad', 'Ofim√°tica', 'Montaje Equipo', 'Sostenibilidad']
        ];

        const schGrid = document.getElementById('scheduleGrid');
        
        // Headers
        ['HORA', 'LUN', 'MAR', 'MIE', 'JUE', 'VIE'].forEach(h => {
            const div = document.createElement('div');
            div.className = 'sch-head';
            div.innerText = h;
            schGrid.appendChild(div);
        });

        // Body
        scheduleData.forEach(row => {
            row.forEach((cell, i) => {
                const div = document.createElement('div');
                if(i===0) {
                    div.className = 'sch-time';
                    div.innerText = cell;
                } else if (cell === 'BREAK') {
                    if(i===1) {
                         div.className = 'sch-cell break-cell';
                         div.innerText = '‚òï PAUSA CAF√â';
                         schGrid.appendChild(div);
                    }
                    return;
                } else {
                    div.className = 'sch-cell';
                    div.innerHTML = `<strong>${cell.split(' ')[0]}</strong><br><small style="opacity:0.7">Aula ${Math.floor(Math.random()*100)}</small>`;
                }
                if(cell !== 'BREAK') schGrid.appendChild(div);
            });
        });

        /* --- TERMINAL APP MEJORADA --- */
        const termInput = document.getElementById('termInput');
        const termOutput = document.getElementById('termOutput');
        
        const terminalCommands = {
            help: () => `Comandos disponibles:
- clear: Limpiar terminal
- date: Mostrar fecha y hora
- hello: Saludo del sistema
- reboot: Reiniciar EduOS
- matrix: Efecto Matrix
- neofetch: Informaci√≥n del sistema
- weather: Clima actual
- open <app>: Abrir aplicaci√≥n (schedule, paint, calc, music, snake, browser)
- wallpaper <url>: Cambiar fondo de pantalla
- theme <color>: Cambiar color de acento
- notify <msg>: Mostrar notificaci√≥n
- games: Lista de juegos disponibles
- eduos: Informaci√≥n de EduOS`,
            
            date: () => new Date().toLocaleString('es-ES', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            }),
            
            hello: () => '¬°Hola humano! Soy EduOS v6.0. ¬øEn qu√© puedo ayudarte?',
            
            reboot: () => { location.reload(); return 'Reiniciando sistema...'; },
            
            matrix: () => {
                const matrixOutput = document.createElement('div');
                matrixOutput.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: black;
                    color: #0f0;
                    font-family: 'JetBrains Mono';
                    z-index: 100000;
                    overflow: hidden;
                `;
                
                const chars = '01';
                const columns = Math.floor(window.innerWidth / 20);
                const drops = Array(columns).fill(1);
                
                function drawMatrix() {
                    matrixOutput.innerHTML = '';
                    for (let i = 0; i < drops.length; i++) {
                        const char = chars[Math.floor(Math.random() * chars.length)];
                        const span = document.createElement('span');
                        span.textContent = char;
                        span.style.cssText = `
                            position: absolute;
                            top: ${drops[i] * 20}px;
                            left: ${i * 20}px;
                            font-size: 20px;
                            opacity: ${Math.random() * 0.5 + 0.5};
                        `;
                        matrixOutput.appendChild(span);
                        
                        if (drops[i] * 20 > window.innerHeight && Math.random() > 0.975) {
                            drops[i] = 0;
                        }
                        drops[i]++;
                    }
                }
                
                document.body.appendChild(matrixOutput);
                const interval = setInterval(drawMatrix, 50);
                
                setTimeout(() => {
                    clearInterval(interval);
                    matrixOutput.remove();
                }, 5000);
                
                return 'Entering the Matrix... (Press ESC to exit)';
            },
            
            neofetch: () => `
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù
‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

OS: EduOS Liquid Ether v6.0
Kernel: JavaScript ES2023
Shell: WebTerminal 2.0
DE: Liquid Glass Interface
WM: EduWM
CPU: Virtual Processor @ 3.2GHz
Memory: 16GB Virtual RAM
Uptime: ${Math.floor(performance.now() / 60000)} minutes
Theme: ${getComputedStyle(document.documentElement).getPropertyValue('--accent')}
            `,
            
            weather: () => {
                const conditions = ['‚òÄÔ∏è Soleado', '‚òÅÔ∏è Nublado', 'üåßÔ∏è Lluvioso', '‚õàÔ∏è Tormenta', '‚ùÑÔ∏è Nevando', 'üå´Ô∏è Neblina'];
                const temp = Math.floor(Math.random() * 30) + 10;
                const condition = conditions[Math.floor(Math.random() * conditions.length)];
                return `üå§Ô∏è Clima en tu ubicaci√≥n: ${temp}¬∞C, ${condition}`;
            },
            
            open: (app) => {
                const apps = {
                    schedule: 'scheduleWin',
                    paint: 'paintWin',
                    calc: 'calcWin',
                    music: 'musicWin',
                    snake: 'snakeWin',
                    browser: 'browserWin',
                    terminal: 'termWin',
                    settings: 'settingsWin',
                    miner: 'clickerWin',
                    notes: 'notesWin',
                    files: 'filesWin',
                    clock: 'clockWin'
                };
                
                if (apps[app]) {
                    wm.open(apps[app]);
                    return `Abriendo ${app}...`;
                } else {
                    return `Aplicaci√≥n ${app} no encontrada. Apps disponibles: ${Object.keys(apps).join(', ')}`;
                }
            },
            
            wallpaper: (url) => {
                if (url && url.startsWith('http')) {
                    document.getElementById('wallpaperLayer').style.backgroundImage = `url(${url})`;
                    document.getElementById('bgInput').value = url;
                    return `Fondo cambiado a: ${url}`;
                }
                return 'URL inv√°lida. Uso: wallpaper <url>';
            },
            
            theme: (color) => {
                const colors = {
                    cyan: '#00f2ff',
                    red: '#ff0055',
                    purple: '#7928ca',
                    green: '#00ff00',
                    yellow: '#ffcc00',
                    orange: '#ff9500',
                    pink: '#ff2d55',
                    blue: '#007aff'
                };
                
                if (colors[color]) {
                    setAccent(colors[color]);
                    return `Tema cambiado a ${color}`;
                } else if (color.startsWith('#')) {
                    setAccent(color);
                    return `Tema cambiado a ${color}`;
                }
                return `Color no v√°lido. Colores disponibles: ${Object.keys(colors).join(', ')} o c√≥digo hexadecimal`;
            },
            
            notify: (msg) => {
                if (msg) {
                    showNotification('Terminal', msg, 'info');
                    return `Notificaci√≥n enviada: ${msg}`;
                }
                return 'Uso: notify <mensaje>';
            },
            
            games: () => `üéÆ Juegos disponibles:
- snake: Juego cl√°sico de la serpiente
- miner: Minero de criptomonedas
- paint: Estudio de pintura digital
- matrix: Efecto visual Matrix
            `,
            
            eduos: () => `EduOS 6.0 "Liquid Ether"
Un sistema operativo educativo basado en web
Caracter√≠sticas:
‚Ä¢ Interfaz de cristal l√≠quido
‚Ä¢ Aplicaciones integradas
‚Ä¢ Terminal interactiva
‚Ä¢ Sistema de notificaciones
‚Ä¢ Personalizaci√≥n completa
‚Ä¢ Minijuegos educativos
‚Ä¢ Soporte multitarea

Desarrollado con HTML5, CSS3 y JavaScript
¬© 2025 - Proyecto educativo
            `
        };
        
        termInput.addEventListener('keydown', (e) => {
            if(e.key === 'Enter') {
                const cmd = termInput.value.trim();
                const [command, ...args] = cmd.split(' ');
                
                termOutput.innerHTML += `<div style="opacity:0.7">$ ${cmd}</div>`;
                
                let response = "";
                
                if (terminalCommands[command]) {
                    response = terminalCommands[command](args.join(' '));
                } else if (cmd === 'clear') {
                    termOutput.innerHTML = "";
                    response = null;
                } else {
                    response = `Comando no encontrado: ${command}. Escribe 'help' para ver comandos disponibles.`;
                }
                
                if(response) termOutput.innerHTML += `<div style="color:var(--accent); margin-bottom:5px; white-space: pre-wrap;">${response}</div>`;
                termInput.value = "";
                termOutput.scrollTop = termOutput.scrollHeight;
            }
        });

        /* --- PAINT APP MEJORADA --- */
        const paintCanvas = document.getElementById('paintCanvas');
        const ctx = paintCanvas.getContext('2d');
        let painting = false;
        let currentColor = 'black';
        let lineWidth = 3;
        
        // Ajustar canvas al tama√±o del contenedor
        function resizeCanvas() {
            const container = paintCanvas.parentElement;
            paintCanvas.width = container.clientWidth - 40;
            paintCanvas.height = 400;
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        
        const paintApp = {
            color: 'black',
            setColor: (c) => { 
                currentColor = c;
                ctx.strokeStyle = c;
                document.querySelectorAll('.paint-tool').forEach(tool => {
                    tool.classList.remove('active');
                });
                event.target.classList.add('active');
            },
            setLineWidth: (width) => {
                lineWidth = width;
                ctx.lineWidth = width;
                document.querySelectorAll('.paint-tool').forEach(tool => {
                    tool.classList.remove('active');
                });
                event.target.classList.add('active');
            },
            clear: () => {
                ctx.clearRect(0, 0, paintCanvas.width, paintCanvas.height);
                showNotification('CyberPaint', 'Lienzo borrado', 'info');
            },
            save: () => {
                const link = document.createElement('a');
                link.download = 'cyberpaint-' + Date.now() + '.png';
                link.href = paintCanvas.toDataURL();
                link.click();
                showNotification('CyberPaint', 'Imagen guardada', 'success');
            }
        };

        // Inicializar
        ctx.strokeStyle = currentColor;
        ctx.lineWidth = lineWidth;
        ctx.lineCap = 'round';
        ctx.lineJoin = 'round';

        paintCanvas.addEventListener('mousedown', (e) => {
            painting = true;
            ctx.beginPath();
            ctx.moveTo(e.offsetX, e.offsetY);
            
            // Efecto de sonido (simulado)
            const audio = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQ');
            audio.play().catch(() => {});
        });
        
        paintCanvas.addEventListener('mousemove', (e) => {
            if(painting) {
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.stroke();
                
                // Efecto de part√≠culas al pintar
                if (Math.random() > 0.7) {
                    createParticle(e.clientX, e.clientY, currentColor);
                }
            }
        });
        
        paintCanvas.addEventListener('mouseup', () => painting = false);
        paintCanvas.addEventListener('mouseleave', () => painting = false);

        /* --- MINER APP MEJORADO --- */
        const miner = {
            score: 0,
            autoMiner: 0,
            upgrades: [
                { cost: 10, rate: 0.1, name: 'GPU B√°sica', level: 0 },
                { cost: 50, rate: 0.5, name: 'GPU Avanzada', level: 0 },
                { cost: 200, rate: 2, name: 'Rig Minero', level: 0 },
                { cost: 1000, rate: 10, name: 'Granja de Miner√≠a', level: 0 }
            ],
            
            click: function() {
                this.score++;
                this.updateDisplay();
                
                // Animaci√≥n
                const btn = document.querySelector('.mining-rig');
                btn.style.transform = "scale(0.9)";
                setTimeout(() => btn.style.transform = "scale(1)", 100);
                
                // Efecto de part√≠culas
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        createParticle(
                            btn.getBoundingClientRect().left + 50,
                            btn.getBoundingClientRect().top + 50,
                            '#00f2ff'
                        );
                    }, i * 50);
                }
                
                // Sonido
                playSound('click');
            },
            
            updateDisplay: function() {
                document.getElementById('score').innerText = this.score.toLocaleString();
                document.getElementById('autoMiner').innerText = this.autoMiner.toFixed(1);
                this.renderUpgrades();
            },
            
            renderUpgrades: function() {
                const container = document.getElementById('upgrades');
                container.innerHTML = '';
                
                this.upgrades.forEach((upgrade, index) => {
                    const div = document.createElement('div');
                    div.className = 'upgrade';
                    div.style.cssText = `
                        background: rgba(255,255,255,0.05);
                        border-radius: 8px;
                        padding: 10px;
                        margin: 5px 0;
                        cursor: pointer;
                        transition: all 0.2s;
                        border: 1px solid ${this.score >= upgrade.cost ? 'var(--accent)' : 'transparent'};
                    `;
                    div.innerHTML = `
                        <div style="display: flex; justify-content: space-between;">
                            <div>
                                <strong>${upgrade.name}</strong>
                                <div style="font-size: 0.8em; color: var(--text-dim);">
                                    Nivel: ${upgrade.level} | +${upgrade.rate}/s
                                </div>
                            </div>
                            <div style="color: ${this.score >= upgrade.cost ? 'var(--accent)' : 'var(--text-dim)'}">
                                ${upgrade.cost} ‚õèÔ∏è
                            </div>
                        </div>
                    `;
                    
                    div.onclick = () => {
                        if (this.score >= upgrade.cost) {
                            this.score -= upgrade.cost;
                            this.autoMiner += upgrade.rate;
                            upgrade.level++;
                            upgrade.cost = Math.floor(upgrade.cost * 1.5);
                            this.updateDisplay();
                            showNotification('Miner', `${upgrade.name} mejorada a nivel ${upgrade.level}`, 'success');
                            playSound('upgrade');
                        }
                    };
                    
                    container.appendChild(div);
                });
            },
            
            autoMine: function() {
                this.score += this.autoMiner / 10;
                this.updateDisplay();
            }
        };

        // Auto-miner loop
        setInterval(() => miner.autoMine(), 100);

        /* --- CALCULADORA APP --- */
        const calculator = {
            display: '0',
            firstOperand: null,
            waitingForSecondOperand: false,
            operator: null,
            
            addNumber: function(num) {
                if (this.waitingForSecondOperand) {
                    this.display = String(num);
                    this.waitingForSecondOperand = false;
                } else {
                    this.display = this.display === '0' ? String(num) : this.display + num;
                }
                this.updateDisplay();
            },
            
            addDecimal: function() {
                if (this.waitingForSecondOperand) {
                    this.display = '0.';
                    this.waitingForSecondOperand = false;
                    return;
                }
                
                if (!this.display.includes('.')) {
                    this.display += '.';
                }
                this.updateDisplay();
            },
            
            addOperator: function(nextOperator) {
                const inputValue = parseFloat(this.display);
                
                if (this.operator && this.waitingForSecondOperand) {
                    this.operator = nextOperator;
                    return;
                }
                
                if (this.firstOperand === null) {
                    this.firstOperand = inputValue;
                } else if (this.operator) {
                    const currentValue = this.firstOperand || 0;
                    const result = this.performCalculation(currentValue, inputValue);
                    
                    this.display = String(result);
                    this.firstOperand = result;
                }
                
                this.waitingForSecondOperand = true;
                this.operator = nextOperator;
                this.updateDisplay();
            },
            
            performCalculation: function(first, second) {
                switch (this.operator) {
                    case '+': return first + second;
                    case '-': return first - second;
                    case '*': return first * second;
                    case '/': return first / second;
                    default: return second;
                }
            },
            
            calculate: function() {
                const inputValue = parseFloat(this.display);
                
                if (this.operator && this.firstOperand !== null) {
                    const result = this.performCalculation(this.firstOperand, inputValue);
                    
                    this.display = String(result);
                    this.firstOperand = null;
                    this.operator = null;
                    this.waitingForSecondOperand = false;
                    this.updateDisplay();
                    
                    // Efecto visual
                    const display = document.getElementById('calcDisplay');
                    display.style.color = 'var(--accent)';
                    setTimeout(() => display.style.color = '', 300);
                }
            },
            
            clear: function() {
                this.display = '0';
                this.firstOperand = null;
                this.waitingForSecondOperand = false;
                this.operator = null;
                this.updateDisplay();
            },
            
            backspace: function() {
                if (this.display.length > 1) {
                    this.display = this.display.slice(0, -1);
                } else {
                    this.display = '0';
                }
                this.updateDisplay();
            },
            
            updateDisplay: function() {
                document.getElementById('calcDisplay').textContent = this.display;
            }
        };

        /* --- REPRODUCTOR DE M√öSICA --- */
        const musicPlayer = {
            currentTrack: 0,
            isPlaying: false,
            progress: 0,
            audioContext: null,
            tracks: [
                {
                    title: 'Liquid Dreams',
                    artist: 'Synthwave AI',
                    duration: 180,
                    color: '#7928ca'
                },
                {
                    title: 'Cyber City',
                    artist: 'Neon Pulse',
                    duration: 210,
                    color: '#00f2ff'
                },
                {
                    title: 'Digital Ocean',
                    artist: 'Waveform',
                    duration: 195,
                    color: '#ff0055'
                },
                {
                    title: 'Ethereal Glow',
                    artist: 'Ambient Space',
                    duration: 240,
                    color: '#00ff00'
                }
            ],
            
            init: function() {
                this.renderPlaylist();
                this.loadTrack(this.currentTrack);
                
                // Simular progreso de la canci√≥n
                setInterval(() => {
                    if (this.isPlaying) {
                        this.progress += 0.5;
                        if (this.progress > this.tracks[this.currentTrack].duration) {
                            this.next();
                        }
                        this.updateProgress();
                    }
                }, 500);
            },
            
            loadTrack: function(index) {
                this.currentTrack = index;
                const track = this.tracks[index];
                
                document.getElementById('trackTitle').textContent = track.title;
                document.getElementById('trackArtist').textContent = track.artist;
                document.getElementById('albumArt').style.background = `linear-gradient(135deg, ${track.color}, ${this.darkenColor(track.color, 30)})`;
                
                // Actualizar playlist
                document.querySelectorAll('.playlist-item').forEach((item, i) => {
                    item.classList.toggle('active', i === index);
                });
            },
            
            togglePlay: function() {
                this.isPlaying = !this.isPlaying;
                const player = document.getElementById('musicPlayer');
                const btn = document.getElementById('playBtn');
                
                if (this.isPlaying) {
                    player.classList.add('playing');
                    btn.textContent = '‚è∏Ô∏è';
                    showNotification('M√∫sica', `Reproduciendo: ${this.tracks[this.currentTrack].title}`, 'info');
                    
                    // Efecto visual
                    createParticle(
                        document.getElementById('albumArt').getBoundingClientRect().left + 100,
                        document.getElementById('albumArt').getBoundingClientRect().top + 100,
                        this.tracks[this.currentTrack].color
                    );
                } else {
                    player.classList.remove('playing');
                    btn.textContent = '‚ñ∂Ô∏è';
                }
            },
            
            next: function() {
                this.currentTrack = (this.currentTrack + 1) % this.tracks.length;
                this.loadTrack(this.currentTrack);
                this.progress = 0;
                if (this.isPlaying) {
                    this.togglePlay();
                    setTimeout(() => this.togglePlay(), 100);
                }
            },
            
            prev: function() {
                this.currentTrack = (this.currentTrack - 1 + this.tracks.length) % this.tracks.length;
                this.loadTrack(this.currentTrack);
                this.progress = 0;
                if (this.isPlaying) {
                    this.togglePlay();
                    setTimeout(() => this.togglePlay(), 100);
                }
            },
            
            updateProgress: function() {
                const track = this.tracks[this.currentTrack];
                const percent = (this.progress / track.duration) * 100;
                document.getElementById('musicProgress').style.width = percent + '%';
            },
            
            renderPlaylist: function() {
                const container = document.getElementById('playlist');
                container.innerHTML = '';
                
                this.tracks.forEach((track, index) => {
                    const div = document.createElement('div');
                    div.className = `playlist-item ${index === this.currentTrack ? 'active' : ''}`;
                    div.style.cssText = `
                        padding: 10px;
                        margin: 5px 0;
                        background: ${index === this.currentTrack ? 'rgba(255,255,255,0.1)' : 'transparent'};
                        border-radius: 6px;
                        cursor: pointer;
                        border-left: 3px solid ${index === this.currentTrack ? track.color : 'transparent'};
                    `;
                    div.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: bold;">${track.title}</div>
                                <div style="font-size: 0.8em; color: var(--text-dim);">${track.artist}</div>
                            </div>
                            <div style="font-size: 0.8em; color: var(--text-dim);">
                                ${Math.floor(track.duration / 60)}:${(track.duration % 60).toString().padStart(2, '0')}
                            </div>
                        </div>
                    `;
                    
                    div.onclick = () => {
                        this.loadTrack(index);
                        this.progress = 0;
                        if (!this.isPlaying) this.togglePlay();
                    };
                    
                    container.appendChild(div);
                });
            },
            
            darkenColor: function(color, percent) {
                const num = parseInt(color.replace('#', ''), 16);
                const amt = Math.round(2.55 * percent);
                const R = (num >> 16) - amt;
                const G = (num >> 8 & 0x00FF) - amt;
                const B = (num & 0x0000FF) - amt;
                return '#' + (
                    0x1000000 +
                    (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
                    (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
                    (B < 255 ? B < 1 ? 0 : B : 255)
                ).toString(16).slice(1);
            }
        };

        /* --- JUEGO SNAKE --- */
        const snakeGame = {
            canvas: null,
            ctx: null,
            gridSize: 20,
            snake: [],
            food: {},
            direction: 'right',
            nextDirection: 'right',
            score: 0,
            level: 1,
            speed: 150,
            gameInterval: null,
            isPaused: true,
            
            init: function() {
                this.canvas = document.getElementById('snakeCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.reset();
                this.draw();
                
                // Controles de teclado
                document.addEventListener('keydown', (e) => {
                    if (this.isPaused) return;
                    
                    switch(e.key) {
                        case 'ArrowUp': if (this.direction !== 'down') this.nextDirection = 'up'; break;
                        case 'ArrowDown': if (this.direction !== 'up') this.nextDirection = 'down'; break;
                        case 'ArrowLeft': if (this.direction !== 'right') this.nextDirection = 'left'; break;
                        case 'ArrowRight': if (this.direction !== 'left') this.nextDirection = 'right'; break;
                    }
                });
            },
            
            start: function() {
                if (this.gameInterval) clearInterval(this.gameInterval);
                this.isPaused = false;
                this.gameInterval = setInterval(() => this.gameLoop(), this.speed);
                showNotification('Snake Game', '¬°Juego iniciado!', 'success');
            },
            
            pause: function() {
                this.isPaused = true;
                if (this.gameInterval) {
                    clearInterval(this.gameInterval);
                    this.gameInterval = null;
                }
            },
            
            reset: function() {
                this.snake = [
                    {x: 10, y: 10},
                    {x: 9, y: 10},
                    {x: 8, y: 10}
                ];
                this.generateFood();
                this.direction = 'right';
                this.nextDirection = 'right';
                this.score = 0;
                this.level = 1;
                this.speed = 150;
                this.updateDisplay();
            },
            
            gameLoop: function() {
                this.direction = this.nextDirection;
                
                // Mover cabeza
                const head = {...this.snake[0]};
                switch(this.direction) {
                    case 'up': head.y--; break;
                    case 'down': head.y++; break;
                    case 'left': head.x--; break;
                    case 'right': head.x++; break;
                }
                
                // Comprobar colisiones con bordes
                if (head.x < 0 || head.x >= this.canvas.width/this.gridSize ||
                    head.y < 0 || head.y >= this.canvas.height/this.gridSize) {
                    this.gameOver();
                    return;
                }
                
                // Comprobar colisi√≥n consigo mismo
                for (let segment of this.snake) {
                    if (head.x === segment.x && head.y === segment.y) {
                        this.gameOver();
                        return;
                    }
                }
                
                // A√±adir nueva cabeza
                this.snake.unshift(head);
                
                // Comprobar comida
                if (head.x === this.food.x && head.y === this.food.y) {
                    this.score += 10 * this.level;
                    this.generateFood();
                    
                    // Efectos
                    playSound('eat');
                    createParticle(
                        this.food.x * this.gridSize + 10,
                        this.food.y * this.gridSize + 10,
                        '#ff0055'
                    );
                    
                    // Subir de nivel cada 100 puntos
                    if (this.score >= this.level * 100) {
                        this.level++;
                        this.speed = Math.max(50, this.speed - 20);
                        showNotification('Snake Game', `¬°Nivel ${this.level}!`, 'warning');
                    }
                    
                    this.updateDisplay();
                } else {
                    // Quitar cola si no comi√≥
                    this.snake.pop();
                }
                
                this.draw();
            },
            
            generateFood: function() {
                let food;
                do {
                    food = {
                        x: Math.floor(Math.random() * (this.canvas.width/this.gridSize)),
                        y: Math.floor(Math.random() * (this.canvas.height/this.gridSize))
                    };
                } while (this.snake.some(segment => segment.x === food.x && segment.y === food.y));
                
                this.food = food;
            },
            
            draw: function() {
                // Fondo
                this.ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                
                // Grid
                this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
                this.ctx.lineWidth = 1;
                for (let x = 0; x < this.canvas.width; x += this.gridSize) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(x, 0);
                    this.ctx.lineTo(x, this.canvas.height);
                    this.ctx.stroke();
                }
                for (let y = 0; y < this.canvas.height; y += this.gridSize) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(0, y);
                    this.ctx.lineTo(this.canvas.width, y);
                    this.ctx.stroke();
                }
                
                // Serpiente
                this.snake.forEach((segment, index) => {
                    const gradient = this.ctx.createLinearGradient(
                        segment.x * this.gridSize,
                        segment.y * this.gridSize,
                        (segment.x + 1) * this.gridSize,
                        (segment.y + 1) * this.gridSize
                    );
                    
                    if (index === 0) { // Cabeza
                        gradient.addColorStop(0, '#00f2ff');
                        gradient.addColorStop(1, '#0077ff');
                    } else { // Cuerpo
                        gradient.addColorStop(0, '#00ff00');
                        gradient.addColorStop(1, '#009900');
                    }
                    
                    this.ctx.fillStyle = gradient;
                    this.ctx.fillRect(
                        segment.x * this.gridSize + 1,
                        segment.y * this.gridSize + 1,
                        this.gridSize - 2,
                        this.gridSize - 2
                    );
                    
                    // Ojos en la cabeza
                    if (index === 0) {
                        this.ctx.fillStyle = 'white';
                        this.ctx.beginPath();
                        this.ctx.arc(
                            segment.x * this.gridSize + this.gridSize * 0.7,
                            segment.y * this.gridSize + this.gridSize * 0.3,
                            this.gridSize * 0.2,
                            0,
                            Math.PI * 2
                        );
                        this.ctx.fill();
                        
                        this.ctx.beginPath();
                        this.ctx.arc(
                            segment.x * this.gridSize + this.gridSize * 0.7,
                            segment.y * this.gridSize + this.gridSize * 0.7,
                            this.gridSize * 0.2,
                            0,
                            Math.PI * 2
                        );
                        this.ctx.fill();
                    }
                });
                
                // Comida
                this.ctx.fillStyle = '#ff0055';
                this.ctx.beginPath();
                this.ctx.arc(
                    this.food.x * this.gridSize + this.gridSize/2,
                    this.food.y * this.gridSize + this.gridSize/2,
                    this.gridSize/2 - 2,
                    0,
                    Math.PI * 2
                );
                this.ctx.fill();
                
                // Brillo de la comida
                this.ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                this.ctx.beginPath();
                this.ctx.arc(
                    this.food.x * this.gridSize + this.gridSize/3,
                    this.food.y * this.gridSize + this.gridSize/3,
                    this.gridSize/6,
                    0,
                    Math.PI * 2
                );
                this.ctx.fill();
            },
            
            gameOver: function() {
                this.pause();
                showNotification('Snake Game', `¬°Game Over! Puntuaci√≥n: ${this.score}`, 'error');
                
                // Efecto de part√≠culas
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        createParticle(
                            Math.random() * this.canvas.width,
                            Math.random() * this.canvas.height,
                            '#ff0055'
                        );
                    }, i * 20);
                }
                
                // Reset despu√©s de 3 segundos
                setTimeout(() => {
                    this.reset();
                    this.draw();
                }, 3000);
            },
            
            updateDisplay: function() {
                document.getElementById('snakeScore').textContent = this.score;
                document.getElementById('snakeLevel').textContent = this.level;
                document.getElementById('snakeSpeed').textContent = (150 / this.speed).toFixed(1) + 'x';
            }
        };

        /* --- NAVEGADOR WEB --- */
        const browser = {
            history: ['https://www.wikipedia.org'],
            currentIndex: 0,
            
            init: function() {
                this.updateUrl();
            },
            
            go: function() {
                const urlInput = document.getElementById('browserUrl');
                let url = urlInput.value;
                
                if (!url.startsWith('http')) {
                    url = 'https://' + url;
                }
                
                this.history.push(url);
                this.currentIndex = this.history.length - 1;
                this.updateFrame();
                this.updateUrl();
            },
            
            back: function() {
                if (this.currentIndex > 0) {
                    this.currentIndex--;
                    this.updateFrame();
                    this.updateUrl();
                }
            },
            
            forward: function() {
                if (this.currentIndex < this.history.length - 1) {
                    this.currentIndex++;
                    this.updateFrame();
                    this.updateUrl();
                }
            },
            
            reload: function() {
                this.updateFrame();
            },
            
            updateFrame: function() {
                const frame = document.getElementById('browserFrame');
                frame.src = this.history[this.currentIndex];
            },
            
            updateUrl: function() {
                const urlInput = document.getElementById('browserUrl');
                urlInput.value = this.history[this.currentIndex];
            }
        };

        /* --- RELOJ MUNDIAL --- */
        const worldClock = {
            cities: [
                { name: 'Madrid', offset: 1 },
                { name: 'Londres', offset: 0 },
                { name: 'Nueva York', offset: -5 },
                { name: 'Tokio', offset: 9 },
                { name: 'S√≠dney', offset: 11 },
                { name: 'Mosc√∫', offset: 3 }
            ],
            
            init: function() {
                this.renderClocks();
                setInterval(() => this.updateClocks(), 1000);
                this.updateLocalTime();
            },
            
            renderClocks: function() {
                const container = document.getElementById('worldClocks');
                container.innerHTML = '';
                
                this.cities.forEach(city => {
                    const div = document.createElement('div');
                    div.className = 'clock-city';
                    div.innerHTML = `
                        <div class="city-name">${city.name}</div>
                        <div class="city-time" id="time-${city.name.replace(/\s+/g, '-')}">00:00:00</div>
                        <div class="city-date" id="date-${city.name.replace(/\s+/g, '-')}">1 Enero 2025</div>
                    `;
                    container.appendChild(div);
                });
            },
            
            updateClocks: function() {
                const now = new Date();
                
                this.cities.forEach(city => {
                    const cityTime = new Date(now.getTime() + (city.offset * 60 * 60 * 1000));
                    
                    const timeStr = cityTime.toLocaleTimeString('es-ES', { 
                        hour: '2-digit', 
                        minute: '2-digit',
                        second: '2-digit'
                    });
                    
                    const dateStr = cityTime.toLocaleDateString('es-ES', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                    
                    document.getElementById(`time-${city.name.replace(/\s+/g, '-')}`).textContent = timeStr;
                    document.getElementById(`date-${city.name.replace(/\s+/g, '-')}`).textContent = dateStr;
                });
                
                this.updateLocalTime();
            },
            
            updateLocalTime: function() {
                const now = new Date();
                document.getElementById('localTime').textContent = now.toLocaleTimeString('es-ES', {
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                document.getElementById('localDate').textContent = now.toLocaleDateString('es-ES', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            }
        };

        /* --- SISTEMA DE ARCHIVOS --- */
        const fileSystem = {
            files: [
                { name: 'Documento.txt', type: 'text', size: '1.2 KB', icon: 'üìÑ' },
                { name: 'Imagen.png', type: 'image', size: '4.5 MB', icon: 'üñºÔ∏è' },
                { name: 'Presentaci√≥n.pdf', type: 'document', size: '8.7 MB', icon: 'üìä' },
                { name: 'C√≥digo.js', type: 'code', size: '15 KB', icon: 'üíª' },
                { name: 'M√∫sica.mp3', type: 'audio', size: '12.3 MB', icon: 'üéµ' },
                { name: 'Proyectos', type: 'folder', size: '--', icon: 'üìÅ' },
                { name: 'Descargas', type: 'folder', size: '--', icon: 'üì•' },
                { name: 'Configuraci√≥n', type: 'folder', size: '--', icon: '‚öôÔ∏è' }
            ],
            
            init: function() {
                this.renderFiles();
            },
            
            renderFiles: function() {
                const container = document.getElementById('fileList');
                container.innerHTML = '';
                
                this.files.forEach(file => {
                    const div = document.createElement('div');
                    div.className = 'file-item';
                    div.innerHTML = `
                        <div class="file-icon">${file.icon}</div>
                        <div class="file-name">${file.name}</div>
                        <div class="file-size">${file.size}</div>
                    `;
                    
                    div.onclick = () => {
                        if (file.type === 'folder') {
                            showNotification('Archivos', `Abriendo carpeta: ${file.name}`, 'info');
                        } else {
                            showNotification('Archivos', `Abriendo archivo: ${file.name}`, 'info');
                        }
                    };
                    
                    container.appendChild(div);
                });
            },
            
            createFile: function() {
                const name = prompt('Nombre del archivo:');
                if (name) {
                    this.files.unshift({
                        name: name,
                        type: 'text',
                        size: '0 KB',
                        icon: 'üìÑ'
                    });
                    this.renderFiles();
                    showNotification('Archivos', `Archivo ${name} creado`, 'success');
                }
            },
            
            createFolder: function() {
                const name = prompt('Nombre de la carpeta:');
                if (name) {
                    this.files.unshift({
                        name: name,
                        type: 'folder',
                        size: '--',
                        icon: 'üìÅ'
                    });
                    this.renderFiles();
                    showNotification('Archivos', `Carpeta ${name} creada`, 'success');
                }
            },
            
            refresh: function() {
                this.renderFiles();
                showNotification('Archivos', 'Lista de archivos actualizada', 'info');
            }
        };

        /* --- SISTEMA DE PART√çCULAS --- */
        let particlesEnabled = true;
        const particles = [];
        
        function createParticle(x, y, color) {
            if (!particlesEnabled) return;
            
            const particle = {
                x, y,
                vx: (Math.random() - 0.5) * 10,
                vy: (Math.random() - 0.5) * 10,
                color: color || getComputedStyle(document.documentElement).getPropertyValue('--accent'),
                life: 1,
                size: Math.random() * 5 + 2
            };
            
            particles.push(particle);
        }
        
        function animateParticles() {
            const container = document.getElementById('particles');
            if (!container) return;
            
            // Crear canvas si no existe
            let canvas = container.querySelector('canvas');
            if (!canvas) {
                canvas = document.createElement('canvas');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                canvas.style.position = 'absolute';
                canvas.style.top = '0';
                canvas.style.left = '0';
                canvas.style.pointerEvents = 'none';
                container.appendChild(canvas);
            }
            
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Actualizar y dibujar part√≠culas
            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                
                p.x += p.vx;
                p.y += p.vy;
                p.vy += 0.1; // Gravedad
                p.life -= 0.02;
                p.size *= 0.98;
                
                if (p.life <= 0 || p.size <= 0.1) {
                    particles.splice(i, 1);
                    continue;
                }
                
                ctx.globalAlpha = p.life;
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
                
                // Efecto de brillo
                ctx.globalAlpha = p.life * 0.5;
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(p.x - p.size/3, p.y - p.size/3, p.size/3, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Crear part√≠culas aleatorias en el fondo
            if (particlesEnabled && Math.random() > 0.7) {
                createParticle(
                    Math.random() * window.innerWidth,
                    Math.random() * window.innerHeight,
                    ['#00f2ff', '#ff0055', '#7928ca', '#00ff00'][Math.floor(Math.random() * 4)]
                );
            }
            
            requestAnimationFrame(animateParticles);
        }
        
        function toggleParticles(enabled) {
            particlesEnabled = enabled;
            const container = document.getElementById('particles');
            if (container) {
                container.style.display = enabled ? 'block' : 'none';
            }
        }

        /* --- CURSOR PERSONALIZADO --- */
        let customCursorEnabled = true;
        const customCursor = document.getElementById('customCursor');
        
        document.addEventListener('mousemove', (e) => {
            if (!customCursorEnabled) return;
            
            customCursor.style.left = e.clientX + 'px';
            customCursor.style.top = e.clientY + 'px';
            
            // Efecto de arrastre
            if (isDragging) {
                customCursor.classList.add('active');
            } else {
                customCursor.classList.remove('active');
            }
        });
        
        document.addEventListener('mousedown', () => {
            if (!customCursorEnabled) return;
            customCursor.classList.add('active');
        });
        
        document.addEventListener('mouseup', () => {
            if (!customCursorEnabled) return;
            customCursor.classList.remove('active');
        });
        
        function toggleCustomCursor(enabled) {
            customCursorEnabled = enabled;
            customCursor.style.display = enabled ? 'block' : 'none';
        }

        /* --- MEN√ö INICIO --- */
        function toggleStartMenu() {
            const menu = document.getElementById('startMenu');
            menu.classList.toggle('open');
            
            // Cerrar al hacer clic fuera
            if (menu.classList.contains('open')) {
                setTimeout(() => {
                    document.addEventListener('click', closeStartMenu);
                }, 10);
            }
        }
        
        function closeStartMenu(e) {
            const menu = document.getElementById('startMenu');
            const startBtn = document.getElementById('startBtn');
            
            if (!menu.contains(e.target) && !startBtn.contains(e.target)) {
                menu.classList.remove('open');
                document.removeEventListener('click', closeStartMenu);
            }
        }

        /* --- SISTEMA DE SONIDOS --- */
        function playSound(type) {
            // En un sistema real, aqu√≠ cargar√≠as archivos de audio
            // Por ahora, simulamos con AudioContext
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                switch(type) {
                    case 'click':
                        oscillator.frequency.value = 800;
                        gainNode.gain.value = 0.1;
                        oscillator.start();
                        setTimeout(() => oscillator.stop(), 100);
                        break;
                        
                    case 'upgrade':
                        oscillator.frequency.value = 1200;
                        gainNode.gain.value = 0.1;
                        oscillator.start();
                        setTimeout(() => oscillator.stop(), 200);
                        break;
                        
                    case 'eat':
                        oscillator.frequency.value = 1500;
                        gainNode.gain.value = 0.1;
                        oscillator.start();
                        setTimeout(() => oscillator.stop(), 150);
                        break;
                }
            } catch (e) {
                // Fallback silencioso si AudioContext no est√° disponible
            }
        }

        /* --- RELOJ DEL SISTEMA --- */
        function updateClock() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('es-ES', { 
                hour: '2-digit', 
                minute: '2-digit'
            });
            document.getElementById('clock').textContent = timeStr;
        }
        setInterval(updateClock, 1000);
        updateClock();

        /* --- INICIALIZACI√ìN --- */
        document.addEventListener('DOMContentLoaded', () => {
            // Cargar configuraci√≥n
            loadSettings();
            
            // Inicializar aplicaciones
            musicPlayer.init();
            snakeGame.init();
            browser.init();
            worldClock.init();
            fileSystem.init();
            miner.updateDisplay();
            
            // Iniciar animaciones
            animateParticles();
            
            // Abrir horario al cargar
            setTimeout(() => {
                wm.open('scheduleWin');
                showNotification('EduOS 6.0', '¬°Bienvenido a EduOS Liquid Ether!', 'success');
            }, 1000);
            
            // Notificaci√≥n de bienvenida
            setTimeout(() => {
                showNotification('Sistema', 'EduOS completamente cargado. ¬°Disfruta la experiencia!', 'info');
            }, 2000);
        });

        /* --- EFECTO DE TECLADO PARA SNAKE EN TODA LA P√ÅGINA --- */
        document.addEventListener('keydown', (e) => {
            // Solo si la ventana de snake est√° abierta
            if (document.getElementById('snakeWin').classList.contains('open')) {
                if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                    e.preventDefault(); // Prevenir scroll con flechas
                }
            }
            
            // Atajos de teclado globales
            if (e.ctrlKey) {
                switch(e.key) {
                    case 'q': wm.cascade(); break;
                    case 'w': wm.tile(); break;
                    case 's': toggleStartMenu(); break;
                }
            }
            
            // ESC para salir de efectos
            if (e.key === 'Escape') {
                const matrixEffect = document.querySelector('[style*="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black;"]');
                if (matrixEffect) matrixEffect.remove();
            }
        });

        /* --- EFECTO DE CARGA --- */
        window.addEventListener('load', () => {
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.5s';
            
            setTimeout(() => {
                document.body.style.opacity = '1';
            }, 100);
        });

    </script>
</body>
</html>
